{% load static %}
<html>
    <head>
        <title>FSA</title>
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
    </head>
    <body>
        <div class="menu">
            <div id = 'logPage' style="margin-left:15px; float:left"><a href="/">login</a></div>
            <div id = 'regPage' style="margin-left:15px; float:left"><a href="/register">register</a></div>
            <div id = 'userPage' style="margin-left:15px; float:left"><a href="/user">user</a></div>
            <div id = 'logoPage' style="margin-left:15px; float:left"><a href="/logout">logout</a></div>
        </div>
        <br/>
        <div class="content container">
            {% block content %}
            {% endblock %}
        </div>
        <script type="text/javascript">
            function hideReg(){
                let reg = document.getElementById('regPage');
                let log = document.getElementById('logPage');
                let logo = document.getElementById('logoPage');
                let user = document.getElementById('userPage');
                let id = {{ sessionID }}

                console.log("I've been called");
                console.log(reg);

                // Hide the registration page if user is not logged in, or not a supervisor/admin
                if (id == -1 || id == 1 || id == 2){
                    reg.style.display = "block";
                } else {
                    reg.style.display = "none";
                }

                // Hide the login page if a user is logged in, and the logout/user page if a user is not
                if (id == -1){
                    log.style.display = "block";
                    logo.style.display = "none";
                    user.style.display = "none";
                } else {
                    log.style.display = "none";
                    logo.style.display = "block";
                    user.style.display = "block";
                }

                // Hide the logout page if a user is not logged in
                if (id != -1)
                return
            }
            window.onload = hideReg();
        </script>
    </body>
</html>
